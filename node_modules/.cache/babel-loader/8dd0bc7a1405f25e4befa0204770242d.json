{"ast":null,"code":"import _objectSpread from\"/Users/ahmadfaraz/Documents/office-projects/country-capital-game-task/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/ahmadfaraz/Documents/office-projects/country-capital-game-task/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var data={\"Germany\":\"Berlin\",\"Azerbaijan\":\"Baku\",\"Poland\":\"Warszawa\",\"Papua New Guinea\":\"Port Moresby\"};var CountryCapitalGame=function CountryCapitalGame(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),entries=_useState2[0],setEntries=_useState2[1];var _useState3=useState({country:\"\",capital:\"\",duplicateCountry:\"\",duplicateCapital:\"\",wrongVal:false,filterData:[]}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];var updateState=function updateState(values){setState(function(prev){return _objectSpread(_objectSpread({},prev),values);});};useEffect(function(){var shuffleArray=Object.entries(data).sort(function(){return Math.random()-0.5;});setEntries(shuffleArray);},[]);var getFilterData=function getFilterData(val1,val2){var filter=[];if(val1){filter=entries.filter(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],_=_ref2[1];return key.toLowerCase()===val1.toLowerCase();});}else{filter=entries.filter(function(_ref3){var _ref4=_slicedToArray(_ref3,2),_=_ref4[0],val=_ref4[1];return val.toLowerCase()===val2.toLowerCase();});}updateState({filterData:filter});};var add=function add(val1,val2){if(!state.country&&val1){updateState({country:val1});getFilterData(val1,null);}else if(!state.capital&&val2){updateState({capital:val2});getFilterData(null,val2);}else if(state.country&&val1&&!state.duplicateCountry){updateState({duplicateCountry:val1});}else if(state.capital&&val2&&!state.duplicateCapital){updateState({duplicateCapital:val2});}if(state.wrongVal){updateState({country:\"\",capital:\"\",duplicateCapital:\"\",duplicateCountry:\"\"});}updateState({wrongVal:false});check(val1,val2);};var check=function check(val1,val2){var _state$filterData$0$,_state$filterData$0$2;var selectedCountry=state.country?state.country:val1;var selectedCapital=state.capital?state.capital:val2;if(!state.wrongVal&&((_state$filterData$0$=state.filterData[0][0])===null||_state$filterData$0$===void 0?void 0:_state$filterData$0$.toLowerCase())===(selectedCountry===null||selectedCountry===void 0?void 0:selectedCountry.toLowerCase())&&((_state$filterData$0$2=state.filterData[0][1])===null||_state$filterData$0$2===void 0?void 0:_state$filterData$0$2.toLowerCase())===(selectedCapital===null||selectedCapital===void 0?void 0:selectedCapital.toLowerCase())){var removeSelected=entries.filter(function(_ref5){var _ref6=_slicedToArray(_ref5,2),key=_ref6[0],_=_ref6[1];return key.toLowerCase()!==selectedCountry.toLowerCase();});updateState({country:\"\",capital:\"\"});setEntries(removeSelected);}else if(state.wrongVal&&val1){updateState({country:val1});}else if(state.wrongVal&&val2){updateState({capital:val2});}else if(state.country||state.capital){updateState({wrongVal:true});}else{return null;}};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:entries.length>0?entries.map(function(_ref7){var _ref8=_slicedToArray(_ref7,2),key=_ref8[0],val=_ref8[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{style:state.country.toLowerCase()===key.toLowerCase()&&!state.wrongVal?{backgroundColor:\"#0000ff\"}:(state.country.toLowerCase()===key.toLowerCase()||state.duplicateCountry.toLowerCase()===key.toLowerCase())&&state.wrongVal?{backgroundColor:\"#FF0000\"}:{},onClick:function onClick(){return add(key,null);},children:key}),/*#__PURE__*/_jsx(\"button\",{style:state.capital===val&&!state.wrongVal?{backgroundColor:\"#0000ff\"}:(state.capital.toLowerCase()===val.toLowerCase()||state.duplicateCapital.toLowerCase()===val.toLowerCase())&&state.wrongVal?{backgroundColor:\"#FF0000\"}:{},onClick:function onClick(){return add(null,val);},children:val})]});}):/*#__PURE__*/_jsx(\"p\",{children:\"Congratulations\"})});};export default CountryCapitalGame;","map":{"version":3,"names":["React","useEffect","useState","data","CountryCapitalGame","entries","setEntries","country","capital","duplicateCountry","duplicateCapital","wrongVal","filterData","state","setState","updateState","values","prev","shuffleArray","Object","sort","Math","random","getFilterData","val1","val2","filter","key","_","toLowerCase","val","add","check","selectedCountry","selectedCapital","removeSelected","length","map","backgroundColor"],"sources":["/Users/ahmadfaraz/Documents/office-projects/country-capital-game-task/src/components/CountryCapitalGame/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nconst data = {\n  \"Germany\": \"Berlin\",\n  \"Azerbaijan\": \"Baku\",\n  \"Poland\": \"Warszawa\",\n  \"Papua New Guinea\": \"Port Moresby\",\n};\n\nconst CountryCapitalGame = () => {\n  const [entries, setEntries] = useState({});\n\n  const [state, setState] = useState({\n    country: \"\",\n    capital: \"\",\n    duplicateCountry: \"\",\n    duplicateCapital: \"\",\n    wrongVal: false,\n    filterData: [],\n  });\n\n  const updateState = (values) => {\n    setState((prev) => ({\n      ...prev,\n      ...values,\n    }));\n  };\n\n  useEffect(() => {\n    const shuffleArray = Object.entries(data).sort(() => Math.random() - 0.5);\n    setEntries(shuffleArray);\n  }, []);\n\n  const getFilterData = (val1, val2) => {\n    let filter = [];\n    if (val1) {\n      filter = entries.filter(\n        ([key, _]) => key.toLowerCase() === val1.toLowerCase()\n      );\n    } else {\n      filter = entries.filter(\n        ([_, val]) => val.toLowerCase() === val2.toLowerCase()\n      );\n    }\n    updateState({ filterData: filter });\n  };\n\n  const add = (val1, val2) => {\n    if (!state.country && val1) {\n      updateState({ country: val1 });\n      getFilterData(val1, null);\n    } else if (!state.capital && val2) {\n      updateState({ capital: val2 });\n      getFilterData(null, val2);\n    } else if (state.country && val1 && !state.duplicateCountry) {\n      updateState({ duplicateCountry: val1 });\n    } else if (state.capital && val2 && !state.duplicateCapital) {\n      updateState({ duplicateCapital: val2 });\n    }\n    if (state.wrongVal) {\n      updateState({\n        country: \"\",\n        capital: \"\",\n        duplicateCapital: \"\",\n        duplicateCountry: \"\",\n      });\n    }\n    updateState({ wrongVal: false });\n    check(val1, val2);\n  };\n\n  const check = (val1, val2) => {\n    const selectedCountry = state.country ? state.country : val1;\n    const selectedCapital = state.capital ? state.capital : val2;\n    if (\n      !state.wrongVal &&\n      state.filterData[0][0]?.toLowerCase() ===\n        selectedCountry?.toLowerCase() &&\n      state.filterData[0][1]?.toLowerCase() === selectedCapital?.toLowerCase()\n    ) {\n      const removeSelected = entries.filter(\n        ([key, _]) => key.toLowerCase() !== selectedCountry.toLowerCase()\n      );\n      updateState({ country: \"\", capital: \"\" });\n      setEntries(removeSelected);\n    } else if (state.wrongVal && val1) {\n      updateState({ country: val1 });\n    } else if (state.wrongVal && val2) {\n      updateState({ capital: val2 });\n    } else if (state.country || state.capital) {\n      updateState({ wrongVal: true });\n    } else {\n      return null;\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      {entries.length > 0 ? (\n        entries.map(([key, val]) => (\n          <>\n            <button\n              style={\n                state.country.toLowerCase() === key.toLowerCase() &&\n                !state.wrongVal\n                  ? { backgroundColor: \"#0000ff\" }\n                  : (state.country.toLowerCase() === key.toLowerCase() ||\n                      state.duplicateCountry.toLowerCase() ===\n                        key.toLowerCase()) &&\n                    state.wrongVal\n                  ? { backgroundColor: \"#FF0000\" }\n                  : {}\n              }\n              onClick={() => add(key, null)}\n            >\n              {key}\n            </button>\n            <button\n              style={\n                state.capital === val && !state.wrongVal\n                  ? { backgroundColor: \"#0000ff\" }\n                  : (state.capital.toLowerCase() === val.toLowerCase() ||\n                      state.duplicateCapital.toLowerCase() ===\n                        val.toLowerCase()) &&\n                    state.wrongVal\n                  ? { backgroundColor: \"#FF0000\" }\n                  : {}\n              }\n              onClick={() => add(null, val)}\n            >\n              {val}\n            </button>\n          </>\n        ))\n      ) : (\n        <p>Congratulations</p>\n      )}\n    </div>\n  );\n};\n\nexport default CountryCapitalGame;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}