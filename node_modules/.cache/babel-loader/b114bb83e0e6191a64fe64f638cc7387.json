{"ast":null,"code":"var _jsxFileName = \"/Users/ahmadfaraz/Documents/office-projects/country-capital-game-task/src/components/CountryCapitalGame/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst data = {\n  \"Germany\": \"Berlin\",\n  \"Azerbaijan\": \"Baku\",\n  \"Poland\": \"Warszawa\",\n  \"Papua New Guinea\": \"Port Moresby\"\n};\n\nconst CountryCapitalGame = () => {\n  _s();\n\n  const [entries, setEntries] = useState({});\n  const [state, setState] = useState({\n    country: \"\",\n    capital: \"\",\n    duplicateCountry: \"\",\n    duplicateCapital: \"\",\n    wrongVal: false,\n    filterData: []\n  });\n\n  const updateState = values => {\n    setState(prev => ({ ...prev,\n      ...values\n    }));\n  };\n\n  useEffect(() => {\n    const shuffleArray = Object.entries(data).sort(() => Math.random() - 0.5);\n    setEntries(shuffleArray);\n  }, []);\n\n  const getFilterData = (val1, val2) => {\n    let filter = [];\n\n    if (val1) {\n      filter = entries.filter(_ref => {\n        let [key, _] = _ref;\n        return key.toLowerCase() === val1.toLowerCase();\n      });\n    } else {\n      filter = entries.filter(_ref2 => {\n        let [_, val] = _ref2;\n        return val.toLowerCase() === val2.toLowerCase();\n      });\n    }\n\n    updateState({\n      filterData: filter\n    });\n  };\n\n  const add = (val1, val2) => {\n    if (!state.country && val1) {\n      updateState({\n        country: val1\n      });\n      getFilterData(val1, null);\n    } else if (!state.capital && val2) {\n      updateState({\n        capital: val2\n      });\n      getFilterData(null, val2);\n    } else if (state.country && val1 && !state.duplicateCountry) {\n      updateState({\n        duplicateCountry: val1\n      });\n    } else if (state.capital && val2 && !state.duplicateCapital) {\n      updateState({\n        duplicateCapital: val2\n      });\n    }\n\n    if (state.wrongVal) {\n      updateState({\n        country: \"\",\n        capital: \"\",\n        duplicateCapital: \"\",\n        duplicateCountry: \"\"\n      });\n    }\n\n    updateState({\n      wrongVal: false\n    });\n    check(val1, val2);\n  };\n\n  const check = (val1, val2) => {\n    var _state$filterData$0$, _state$filterData$0$2;\n\n    const selectedCountry = state.country ? state.country : val1;\n    const selectedCapital = state.capital ? state.capital : val2;\n\n    if (!state.wrongVal && ((_state$filterData$0$ = state.filterData[0][0]) === null || _state$filterData$0$ === void 0 ? void 0 : _state$filterData$0$.toLowerCase()) === (selectedCountry === null || selectedCountry === void 0 ? void 0 : selectedCountry.toLowerCase()) && ((_state$filterData$0$2 = state.filterData[0][1]) === null || _state$filterData$0$2 === void 0 ? void 0 : _state$filterData$0$2.toLowerCase()) === (selectedCapital === null || selectedCapital === void 0 ? void 0 : selectedCapital.toLowerCase())) {\n      const removeSelected = entries.filter(_ref3 => {\n        let [key, _] = _ref3;\n        return key.toLowerCase() !== selectedCountry.toLowerCase();\n      });\n      updateState({\n        country: \"\",\n        capital: \"\"\n      });\n      setEntries(removeSelected);\n    } else if (state.wrongVal && val1) {\n      updateState({\n        country: val1\n      });\n    } else if (state.wrongVal && val2) {\n      updateState({\n        capital: val2\n      });\n    } else if (state.country || state.capital) {\n      updateState({\n        wrongVal: true\n      });\n    } else {\n      return null;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Country Capitals Game\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), entries.length > 0 ? entries.map(_ref4 => {\n      let [key, val] = _ref4;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          style: state.country.toLowerCase() === key.toLowerCase() && !state.wrongVal ? {\n            backgroundColor: \"#0000ff\"\n          } : (state.country.toLowerCase() === key.toLowerCase() || state.duplicateCountry.toLowerCase() === key.toLowerCase()) && state.wrongVal ? {\n            backgroundColor: \"#FF0000\"\n          } : {},\n          onClick: () => add(key, null),\n          children: key\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: state.capital === val && !state.wrongVal ? {\n            backgroundColor: \"#0000ff\"\n          } : (state.capital.toLowerCase() === val.toLowerCase() || state.duplicateCapital.toLowerCase() === val.toLowerCase()) && state.wrongVal ? {\n            backgroundColor: \"#FF0000\"\n          } : {},\n          onClick: () => add(null, val),\n          children: val\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true);\n    }) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Congratulations\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CountryCapitalGame, \"lD3Em3CErxAAUJ0OZkgFaIBlFDc=\");\n\n_c = CountryCapitalGame;\nexport default CountryCapitalGame;\n\nvar _c;\n\n$RefreshReg$(_c, \"CountryCapitalGame\");","map":{"version":3,"names":["React","useEffect","useState","data","CountryCapitalGame","entries","setEntries","state","setState","country","capital","duplicateCountry","duplicateCapital","wrongVal","filterData","updateState","values","prev","shuffleArray","Object","sort","Math","random","getFilterData","val1","val2","filter","key","_","toLowerCase","val","add","check","selectedCountry","selectedCapital","removeSelected","length","map","backgroundColor"],"sources":["/Users/ahmadfaraz/Documents/office-projects/country-capital-game-task/src/components/CountryCapitalGame/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nconst data = {\n  \"Germany\": \"Berlin\",\n  \"Azerbaijan\": \"Baku\",\n  \"Poland\": \"Warszawa\",\n  \"Papua New Guinea\": \"Port Moresby\",\n};\n\nconst CountryCapitalGame = () => {\n  const [entries, setEntries] = useState({});\n\n  const [state, setState] = useState({\n    country: \"\",\n    capital: \"\",\n    duplicateCountry: \"\",\n    duplicateCapital: \"\",\n    wrongVal: false,\n    filterData: [],\n  });\n\n  const updateState = (values) => {\n    setState((prev) => ({\n      ...prev,\n      ...values,\n    }));\n  };\n\n  useEffect(() => {\n    const shuffleArray = Object.entries(data).sort(() => Math.random() - 0.5);\n    setEntries(shuffleArray);\n  }, []);\n\n  const getFilterData = (val1, val2) => {\n    let filter = [];\n    if (val1) {\n      filter = entries.filter(\n        ([key, _]) => key.toLowerCase() === val1.toLowerCase()\n      );\n    } else {\n      filter = entries.filter(\n        ([_, val]) => val.toLowerCase() === val2.toLowerCase()\n      );\n    }\n    updateState({ filterData: filter });\n  };\n\n  const add = (val1, val2) => {\n    if (!state.country && val1) {\n      updateState({ country: val1 });\n      getFilterData(val1, null);\n    } else if (!state.capital && val2) {\n      updateState({ capital: val2 });\n      getFilterData(null, val2);\n    } else if (state.country && val1 && !state.duplicateCountry) {\n      updateState({ duplicateCountry: val1 });\n    } else if (state.capital && val2 && !state.duplicateCapital) {\n      updateState({ duplicateCapital: val2 });\n    }\n    if (state.wrongVal) {\n      updateState({\n        country: \"\",\n        capital: \"\",\n        duplicateCapital: \"\",\n        duplicateCountry: \"\",\n      });\n    }\n    updateState({ wrongVal: false });\n    check(val1, val2);\n  };\n\n  const check = (val1, val2) => {\n    const selectedCountry = state.country ? state.country : val1;\n    const selectedCapital = state.capital ? state.capital : val2;\n    if (\n      !state.wrongVal &&\n      state.filterData[0][0]?.toLowerCase() ===\n        selectedCountry?.toLowerCase() &&\n      state.filterData[0][1]?.toLowerCase() === selectedCapital?.toLowerCase()\n    ) {\n      const removeSelected = entries.filter(\n        ([key, _]) => key.toLowerCase() !== selectedCountry.toLowerCase()\n      );\n      updateState({ country: \"\", capital: \"\" });\n      setEntries(removeSelected);\n    } else if (state.wrongVal && val1) {\n      updateState({ country: val1 });\n    } else if (state.wrongVal && val2) {\n      updateState({ capital: val2 });\n    } else if (state.country || state.capital) {\n      updateState({ wrongVal: true });\n    } else {\n      return null;\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Country Capitals Game</h1>\n      {entries.length > 0 ? (\n        entries.map(([key, val]) => (\n          <>\n            <button\n              style={\n                state.country.toLowerCase() === key.toLowerCase() &&\n                !state.wrongVal\n                  ? { backgroundColor: \"#0000ff\" }\n                  : (state.country.toLowerCase() === key.toLowerCase() ||\n                      state.duplicateCountry.toLowerCase() ===\n                        key.toLowerCase()) &&\n                    state.wrongVal\n                  ? { backgroundColor: \"#FF0000\" }\n                  : {}\n              }\n              onClick={() => add(key, null)}\n            >\n              {key}\n            </button>\n            <button\n              style={\n                state.capital === val && !state.wrongVal\n                  ? { backgroundColor: \"#0000ff\" }\n                  : (state.capital.toLowerCase() === val.toLowerCase() ||\n                      state.duplicateCapital.toLowerCase() ===\n                        val.toLowerCase()) &&\n                    state.wrongVal\n                  ? { backgroundColor: \"#FF0000\" }\n                  : {}\n              }\n              onClick={() => add(null, val)}\n            >\n              {val}\n            </button>\n          </>\n        ))\n      ) : (\n        <p>Congratulations</p>\n      )}\n    </div>\n  );\n};\n\nexport default CountryCapitalGame;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}